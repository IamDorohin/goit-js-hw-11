{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aCAe,SAAAC,EAAiCC,G,IAAEC,EAAFD,EAAEC,aAAcC,EAAhBF,EAAgBE,cAAeC,EAA/BH,EAA+BG,KAAMC,EAArCJ,EAAqCI,MAAOC,EAA5CL,EAA4CK,MAAOC,EAAnDN,EAAmDM,SAAUC,EAA7DP,EAA6DO,UAAc,MAAM,wEAEzGC,OADqBN,EAAc,6BACbM,OAAtBP,EAAa,WAKhBO,OALyBL,EAAK,sLAS9BK,OAJAJ,EAAM,+GAQNI,OAJAH,EAAM,kHAQNG,OAJAF,EAAS,mHAICE,OAAVD,EAAU,qI,oDDZzBE,EAAO,CACTC,QAASC,SAASC,cAAc,0BAChCC,WAAYF,SAASC,cAAc,oBAmCjCE,GA9BS,IAAIC,EAAAC,GAAJ,CAAmB,cA8Bf,IAAID,EAAAE,GAAJ,CAAeR,EAAKI,WA3BvB,CACdK,WAAY,GACZC,aAAc,EACdC,aAAc,EACdC,KAAM,EACNC,aAAa,EACbC,mBAAoB,kBACpBC,kBAAmB,iBACnBC,SAAU,CACRJ,KAAM,gDACNK,YAAa,iEACbC,WACE,mGAGFC,mBACE,gHAIFC,WACE,wGASAC,EADaC,KAAKC,MAAMC,aAAaC,QAAQ,kBAClBC,KAI7BC,GAHgBN,EAAcO,OAGT,GACrBC,EAAoB,EACpBC,EAAcT,EAAcU,MAAMJ,EAAoBE,GAI1D,SAASG,EAA0BC,GAC/BjC,EAAKC,QAAQiC,mBAAmB,YAAaD,EAAYE,IAAI7C,GAAyB8C,KAAK,K,SAKhFC,I,OAAAA,EAAf/B,EAAAlB,EAAA,CAAAkB,EAAAgC,GAAAC,MAAA,SAAAC,I,kEACIC,IAEAd,EAAmD,EAA9BtB,EAAWqC,iBAAuB,EACvDb,EAAkD,EAA9BxB,EAAWqC,iBAO/BV,EADAF,EAAcT,EAAcU,MAAMJ,EAAoBE,I,4CAV9Bc,MAAAC,KAAAC,WAuB5B,SAASJ,IACLzC,EAAKC,QAAQ6C,UAAY,GAhC7Bd,EAA0BF,GAM1B9B,EAAKI,WAAW2C,iBAAiB,S,kBAElBV,EAAaM,MAAAC,KAAAC,c","sources":["src/js/local-storage.js","src/js/render-local-storage-gallery.js"],"sourcesContent":["import ImagesApiService from './images-api-service';\nimport createLocalStorageCards from './render-local-storage-gallery';\nimport defaultPage from '../index';\nimport SimpleLightbox from 'simplelightbox';\nimport Pagination from 'tui-pagination';\n// import 'tui-pagination/dist/tui-pagination.css';\n\nconst refs = {\n    gallery: document.querySelector('.local-storage-gallery'),\n    pagination: document.querySelector('.tui-pagination'),\n    // додаю кнопку додавання картинки до списку улюблених\n    // addBtn: document.querySelector('.photo-card__button'),\n}\n\nlet lightbox = new SimpleLightbox('.gallery a');\n\n// =============== Функціонал пагінації на дефолтному запиті =============== //\nconst options = {\n  totalItems: 40,\n  itemsPerPage: 4,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: true,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    // \n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n      '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>'\n  }\n};\n\nconst pagination = new Pagination(refs.pagination, options);\n\nconst parsedData = JSON.parse(localStorage.getItem(\"arrayOfImages\"));\nconst arrayOfImages = parsedData.hits;\nconst arrayLength = arrayOfImages.length;\nconst numberOfPages = arrayLength / 4;\n\nlet firstElementOfPage = 0;\nlet lastElementOfPage = 4;\nlet createdPage = arrayOfImages.slice(firstElementOfPage, lastElementOfPage);\n\ncreateLocalStorageGallery(createdPage);\n\nfunction createLocalStorageGallery(createdPage) {\n    refs.gallery.insertAdjacentHTML('beforeend', createdPage.map(createLocalStorageCards).join(''));\n}\n\nrefs.pagination.addEventListener('click', renderNewPage);\n\nasync function renderNewPage() {\n    clearGallery();\n\n    firstElementOfPage = pagination.getCurrentPage() * 4 - 4;\n    lastElementOfPage = pagination.getCurrentPage() * 4;\n\n    // console.log(pagination.getCurrentPage());\n    // console.log(firstElementOfPage);\n    // console.log(lastElementOfPage);\n\n    createdPage = arrayOfImages.slice(firstElementOfPage, lastElementOfPage);\n    createLocalStorageGallery(createdPage);\n    // for(let i = 2; i <= numberOfPages; i+=1) {\n    //     clearGallery();\n\n    //     firstElementOfPage += 4;\n    //     lastElementOfPage += 4;\n    //     createdPage = arrayOfImages.slice(firstElementOfPage, lastElementOfPage);\n\n    //     createLocalStorageGallery()\n    // }\n}\n\nfunction clearGallery() {\n    refs.gallery.innerHTML = '';\n}\n\n\n// 0  1  2  3\t\t    1\t-  0    4\n// 4  5  6  7\t\t    2\t-  4    8\n// 8  9  10  11\t\t    3\t-  8    12\n// 12  13  14  15\t\t4\t-  12   16\n// 16  17  18  19\t\t5\t-  16   20\n// 20  21  22  23\t\t6\t-  20   24\n// 24  25  26  27\t\t7\t-  24   28\n// 28  29  30  31\t\t8\t-  28   32\n// 32  33  34  35\t\t9\t-  32   36\n// 36  37  38  39\t\t10\t-  36   40","export default function createLocalStorageCards({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {return`<div class=\"local-card\">\n        <a class=\"local-gallery-link\" href=${largeImageURL}>\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class=\"local-card__image\"/>\n        </a>\n        <div class=\"local-info\"> \n            <p class=\"local-info-item\">\n                Likes\n                <b>${likes}</b>\n            </p>\n            <p class=\"local-info-item\">\n                Views\n                <b>${views}</b>\n            </p>\n            <p class=\"local-info-item\">\n                Comments\n                <b>${comments}</b>\n            </p>\n            <p class=\"local-info-item\">\n                Downloads\n                <b>${downloads}</b>\n            </p>\n            <button type=\"button\" class=\"local-card__button\"> + ADD </button>\n        </div>\n    </div>`\n}"],"names":["$bpxeT","parcelRequire","$d9eff83796c9d976$export$2e2bcd8739ae039","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","concat","$3791646d3ae2cee8$var$refs","gallery","document","querySelector","pagination","$3791646d3ae2cee8$var$pagination","$parcel$interopDefault","$5IjG7","$1VFfL","totalItems","itemsPerPage","visiblePages","page","centerAlign","firstItemClassName","lastItemClassName","template","currentPage","moveButton","disabledMoveButton","moreButton","$3791646d3ae2cee8$var$arrayOfImages","JSON","parse","localStorage","getItem","hits","$3791646d3ae2cee8$var$firstElementOfPage","length","$3791646d3ae2cee8$var$lastElementOfPage","$3791646d3ae2cee8$var$createdPage","slice","$3791646d3ae2cee8$var$createLocalStorageGallery","createdPage1","insertAdjacentHTML","map","join","$3791646d3ae2cee8$var$_renderNewPage","$2TvXO","mark","_callee","$3791646d3ae2cee8$var$clearGallery","getCurrentPage","apply","this","arguments","innerHTML","addEventListener"],"version":3,"file":"local-storage.792a2827.js.map"}